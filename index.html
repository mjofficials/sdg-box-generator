<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <!-- FONT AWESOME CDN -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css" crossorigin="anonymous">
    <!-- GOOGLE FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@600&family=Roboto:wght@500&display=swap"
        rel="stylesheet">
    <title>Project SDG</title>
</head>

<body>
    <div class="container" id="sdgContainer"></div>
    <script>
        var sdgArr = [{
            name: 'no poverty',
            codeNumber: 1,
            numOfPosts: 24,
            colorCode: '#E5243B',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'zero hunger',
            codeNumber: 2,
            numOfPosts: 24,
            colorCode: '#DDA63A',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'good health and well-being',
            codeNumber: 3,
            numOfPosts: 19,
            colorCode: '#4C9F38',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'quality education',
            codeNumber: 4,
            numOfPosts: 100,
            colorCode: '#C5192D',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'gender equality',
            codeNumber: 5,
            numOfPosts: 71,
            colorCode: '#FF3A21',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'clean water and sanitation',
            codeNumber: 6,
            numOfPosts: 62,
            colorCode: '#26BDE2',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'affordable and clean energy',
            codeNumber: 7,
            numOfPosts: 77,
            colorCode: '#FCC30B',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'decent work and economic growth',
            codeNumber: 8,
            numOfPosts: 39,
            colorCode: '#A21942',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'industry, innovation and infrastructure',
            codeNumber: 9,
            numOfPosts: 25,
            colorCode: '#FD6925',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'reduced inequalities',
            codeNumber: 10,
            numOfPosts: 42,
            colorCode: '#DD1367',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'sustainable cities and communities',
            codeNumber: 11,
            numOfPosts: 66,
            colorCode: '#FD9D24',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'responsible consumption and production',
            codeNumber: 12,
            numOfPosts: 37,
            colorCode: '#BF8B2E',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'climate change',
            codeNumber: 13,
            numOfPosts: 19,
            colorCode: '#3F7E44',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'life below water',
            codeNumber: 14,
            numOfPosts: 22,
            colorCode: '#0A97D9',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'life on land',
            codeNumber: 15,
            numOfPosts: 16,
            colorCode: '#56C02B',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'peace, justice and strong institutions',
            codeNumber: 16,
            numOfPosts: 8,
            colorCode: '#00689D',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }, {
            name: 'partnerships for the goals',
            codeNumber: 17,
            numOfPosts: 5,
            colorCode: '#19486A',
            icon: '',
            text: 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam',
        }];
        const sdgContainer = document.getElementById('sdgContainer');

        var sdgArr2 = new Array();
        var sdgObj = {};

        // 
        function generateRandomColor() {
            var letters = '0123456789ABCDEF';
            var color = '#';
            for (var i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
        // 
        for (let i = 0; i <= 30; i++) {
            sdgArr2[i] = new Object();
            sdgArr2[i].numOfPosts = i;
            sdgArr2[i].name = `box_${i}`;
            sdgArr2[i].colorCode = generateRandomColor();

        }
        let sdgArr2Sorted = [...sdgArr]
        console.log("sdgArr", sdgArr);
        console.log("sdgArr", sdgArr.length);

        sdgArr2Sorted.sort(() => Math.random() - 0.5).forEach((obj, i) => {
            // const { name, colorCode, icon, codeNumber, text, numOfPosts } = obj;
            let { name, numOfPosts, colorCode, codeNumber } = obj;
            // console.log("numOfPosts:", numOfPosts);

            // numOfPosts = Math.floor(Math.random() * 50)
            console.log("sdgArr2Sorted.sort --> numOfPosts", numOfPosts);

            // let unitChange = numOfPosts * 10;
            let unitChange = numOfPosts / 2;

            let truncateOverflow = numOfPosts <= 25 ? "truncate-overflow" : '';
            // console.log(numOfPosts, "-->", unitChange + "rem");
            console.log(Math.round(numOfPosts / 2));
            if (numOfPosts >= 8) {
                sdgContainer.innerHTML += `
                <div class="box box_${numOfPosts}" id="boxId_${numOfPosts}" 
                                            style="
                                             width:${unitChange * 10}px;
                                            // height: auto;
                                            min-height:${unitChange * 10 / 2}px;
                                            flex: 1 0 auto;
                                            background-color: ${colorCode}">
                    <div class="overlay" style="background-color: ${colorCode}">
                      <div class="text_box">
                        <p class=${truncateOverflow}>
                            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam
                            </p>
                        <button class="cta_btn">
                            our contribution <i class="fa-solid fa-angle-right cta_btn_icon"></i>
                            </button>
                        </div>
                    </div>
                    <div class="header">
                        <p class="num">${codeNumber}<small class="small_text">(${numOfPosts})</small></p>
                        <p class="name">${name}</p>
                    </div>
                    <div class="body">
                        <div class="icon">
                            <i class="fa-solid fa-eye"></i>
                        </div>
                    </div>
                </div>
                `;
            } else {
                sdgContainer.innerHTML += `
                <div class="box box_${numOfPosts}" id="boxId_${numOfPosts}" 
                                            style="
                                            width:${unitChange}rem;
                                            height: auto;
                                            // flex:${unitChange}rem;
                                            background-color: ${colorCode}">
                    <div class="overlay" style="background-color: ${colorCode}">
                      <div class="text_box">
                        <p class=${truncateOverflow}>
                            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius praesentium culpa eum ipsum incidunt corporis et esse hic totam
                            </p>
                        <button class="cta_btn">
                            our contribution <i class="fa-solid fa-angle-right cta_btn_icon"></i>
                            </button>
                        </div>
                    </div>
                    <div class="header">
                        <p class="num">${codeNumber}<small class="small_text">(${numOfPosts})</small></p>
                        <p class="name">${name}</p>
                    </div>
                    <div class="body">
                        <div class="icon">
                            <i class="fa-solid fa-eye"></i>
                        </div>
                    </div>
                </div>
                `;
            }
        })
        var sdgArrReverse = new Array();
        for (let i = (sdgArr2.length - 1); i >= 0; i--) {
            sdgArrReverse.push(sdgArr2[i])
            let elem = sdgArr2[i]
            let elemBox = document.getElementsByClassName(elem.name);
            // console.log("elemBox", elemBox);
        }
        // console.log("sdgArrReverse", sdgArrReverse);

        // add flex: 20% and decrease percentage by 5% untill last element
        // 
        let sdgContainerWidth = Math.round(sdgContainer.getBoundingClientRect().width)
        let sdgContainerHeight = Math.round(sdgContainer.getBoundingClientRect().height)

        console.log("sdgContainerWidth", sdgContainerWidth);
        console.log("sdgContainerHeight", sdgContainerHeight);
        var boxesArr = document.getElementsByClassName('box');
        // console.log("boxesArr", boxesArr);
        for (let i = 0; i < boxesArr.length; i++) {
            const elem = boxesArr[i];
            // console.log("elem width and height", elem.getBoundingClientRect().width, elem.getBoundingClientRect().width);
            // elem.addEventListener('click', () => {
            //     // console.log(elem.id);
            //     let item = document.getElementById(elem.id);
            //     // item.style.display = "none";
            //     item.style.flex = '1';
            // })
        }
        //
        // const numCols = 3;
        // const colHeights = Array(numCols).fill(0);
        // const container = sdgContainer
        // Array.from(container.children).forEach((child, i) => {
        //     const order = i % numCols;
        //     child.style.order = order;
        //     colHeights[order] += parseFloat(child.clientHeight);
        // })
        // container.style.height = Math.max(...colHeights) + 'px'; 
    </script>
</body>

</html>
<!-- STEP 1: Create a javascript function to take inputs of initial values ( name, color code, icons, code number, text, number of posts ). JSON object would be a better option.

STEP 2: For the name, color code, icons, code number, text we can directly pass it to create DOM elements, since it doesn't need much logic.

STEP3: Number of post determines the SDG box sizes and also its dynamic. So, based on the input of number of posts, we can set the sizes of each box either in px or rem calculations. Using a flexbox would be great for responsive behavior of each boxes. -->